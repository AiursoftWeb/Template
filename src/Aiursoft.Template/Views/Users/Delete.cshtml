@using Aiursoft.Template.Configuration
@using Aiursoft.WebTools
@using Microsoft.Extensions.Options
@model Aiursoft.Template.Models.UsersViewModels.DeleteViewModel
@inject IOptions<AppSettings> AppSettings


<h1>@Localizer["Delete"]</h1>
<h3>@Localizer["Are you sure you want to delete this user?"]</h3>
@if (AppSettings.Value.OIDCEnabled)
{
    <div class="alert alert-warning alert-dismissible" role="alert">
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        <div class="alert-icon">
            <i class="far fa-fw fa-bell"></i>
        </div>
        <div class="alert-message">
            <strong>@Localizer["Warning!"]</strong>
            @Localizer["This user account is managed by an OpenID Connect (OIDC) provider. Deleting the user here will only remove their access and data from this application. The account will still exist on your OIDC provider and may reappear after the next sync or if the user logs in again. To permanently delete this user, you must remove them from your OIDC provider."]
        </div>
    </div>
}
<div>
    <h4>@Localizer["User"]</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-3">@Localizer["User name"]</dt>
        <dd class="col-sm-9">@Model.User.UserName</dd>

        <dt class="col-sm-3">@Localizer["Name"]</dt>
        <dd class="col-sm-9">@Model.User.DisplayName</dd>

        <dt class="col-sm-3">@Localizer["Email"]</dt>
        <dd class="col-sm-9">@Model.User.Email</dd>

        <dt class="col-sm-3">@Localizer["Creation Time"]</dt>
        <dd class="col-sm-9">
            <label data-utc-time="@Model.User.CreationTime.ToHtmlDateTime()" class="text-monospace"></label>
        </dd>
    </dl>

    <form asp-action="Delete">
        <input type="hidden" asp-for="@Model.User.Id" />
        <input type="submit" value="@Localizer["Delete"]" class="btn btn-danger" /> |
        <a asp-action="Index">@Localizer["Back to List"]</a>
    </form>
</div>
